<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">库存数据透视表</h1>
    <div class="btn-toolbar mb-2 mb-md-0">
        <button type-="button" class="btn btn-sm btn-outline-success" id="export-pivot-table-btn">
            <i class="fas fa-file-excel"></i> 导出 Excel (CSV)
        </button>
    </div>
</div>

<style>
    #pivot-table-head th {
        cursor: move; /* Add move cursor to indicate draggable headers */
    }
    .sortable-ghost {
        background-color: #c8ebfb; /* Style for the ghost element */
        opacity: 0.5;
    }
    .table-bordered-vertical th,
    .table-bordered-vertical td {
        border-right: 1px solid #dee2e6; /* Add a vertical line */
    }
    .table-bordered-vertical th:last-child,
    .table-bordered-vertical td:last-child {
        border-right: none; /* Remove border from the last column */
    }
    .table-container {
        flex-grow: 1; /* Allow this container to grow and fill available space */
        overflow: auto; /* Keep the scrollbars */
        min-height: 0; /* Necessary for flex-grow to work in some browsers */
    }
    #pivot-table-head th {
        position: sticky;
        top: 0;
        z-index: 10;
    }
    #pivot-table-body td {
        vertical-align: middle;
    }
    .cell-small-font {
        font-size: 0.8rem; /* Or smaller if needed */
    }
</style>

<div class="table-container mt-2 border">
    <table class="table table-striped table-hover table-sm table-bordered-vertical mb-0">
        <thead id="pivot-table-head" class="table-light">
            <!-- Dynamic columns will be generated here -->
        </thead>
        <tbody id="pivot-table-body">
            <!-- Dynamic rows will be generated here -->
        </tbody>
    </table>
</div>

<div class="d-flex justify-content-center align-items-center mt-3">
    <div class="me-3">
        <label for="pivot-rows-per-page-select" class="form-label me-2 mb-0 d-inline-block">每页显示:</label>
        <select class="form-select form-select-sm d-inline-block" id="pivot-rows-per-page-select" style="width: auto;">
            <option value="20" selected>20</option>
            <option value="50">50</option>
            <option value="100">100</option>
        </select>
    </div>
    <nav>
        <ul class="pagination pagination-sm mb-0" id="pivot-pagination-links">
            <!-- Pagination links will be generated here -->
        </ul>
    </nav>
</div>
